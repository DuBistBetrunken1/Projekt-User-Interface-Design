<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eurocommand</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <nav class="top-nav">
      <ul>
        <li><a href="#">Produkte</a></li>
        <li><a href="#">Service</a></li>
        <li><a href="#">Unternehmen</a></li>
        <li><a href="#">Kontakt</a></li>
        <li><button id="darkModeToggle" aria-label="Dark Mode umschalten">üåô</button></li>
      </ul>
    </nav>
  </header>

  <!-- NEWS SECTION MIT BLUR & PARTIKEL -->
  <section class="news-section with-particles">
    <canvas class="particles-bg"></canvas>
    <h2>üì∞ Neuigkeiten</h2>
    <div class="news-panel frosted">
      <strong>‚ö° Neue Version von CommandX ver√∂ffentlicht</strong>
      <p>Die neue Version bietet Verbesserungen in der Bedienbarkeit und Performance.</p>
    </div>
    <div class="news-panel frosted">
      <strong>üìç Nutzer k√∂nnen jetzt Standortverfolgung aktivieren</strong>
      <p>Die neue Funktion erm√∂glicht noch genauere Einsatzkoordination.</p>
    </div>
  </section>

  <!-- PRODUKTE SECTION MIT BLUR & PARTIKEL -->
  <section class="products-section with-particles">
    <canvas class="particles-bg"></canvas>
    <h2>‚ú® Unsere Produkte</h2>
    <div class="product-row frosted">
      <div class="product-text">
        <h3>AlertX</h3>
        <p>Die multifunktionale Alarmierungs-App.</p>
      </div>
      <div class="product-image">
        <img src="alertx.png" alt="AlertX" />
      </div>
    </div>
    <div class="product-row frosted reverse">
      <div class="product-text">
        <h3>CommandX</h3>
        <p>Die digitale F√ºhrungsunterst√ºtzungsplattform.</p>
      </div>
      <div class="product-image">
        <img src="commandx.png" alt="CommandX" />
      </div>
    </div>
    <div class="product-row frosted">
      <div class="product-text">
        <h3>CommandX.Mobile</h3>
        <p>Die mobile F√ºhrungsunterst√ºtzungsapp.</p>
      </div>
      <div class="product-image">
        <img src="mobile.png" alt="CommandX.Mobile" />
      </div>
    </div>
    <div class="product-row frosted reverse">
      <div class="product-text">
        <h3>CommandX.WIS</h3>
        <p>Alarm- und Informationsanzeigesystem.</p>
      </div>
      <div class="product-image">
        <img src="wis.png" alt="CommandX.WIS" />
      </div>
    </div>
  </section>

  <!-- CTA, Formular & Chatbot (unver√§ndert) -->
  <section class="cta-section">
    <div class="cta-content">
      <div class="cta-text">
        <h2>Bereit f√ºr den n√§chsten Schritt?</h2>
        <p>Du hast Interesse an einem unserer Produkte oder ben√∂tigst Unterst√ºtzung f√ºr deine Einsatzf√ºhrung? Sende uns deine Anfrage und wir melden uns kurzfristig bei dir zur√ºck.</p>
        <button class="cta-button" onclick="document.getElementById('contactForm').scrollIntoView({ behavior: 'smooth' });">Jetzt anfragen</button>
      </div>
      <div class="cta-image">
        <img src="cta-illustration.png" alt="Illustration" />
      </div>
    </div>
  </section>

  <section class="form-section" id="contactForm">
    <div class="form-content">
      <div class="form-text">
        <h2>Jetzt unverbindlich Kontakt aufnehmen</h2>
        <p>Ob CommandX, AlertX oder unsere mobilen L√∂sungen ‚Äì teile uns dein Anliegen mit, und wir beraten dich individuell.</p>
      </div>
      <form class="contact-form">
        <label for="name">Name</label>
        <input type="text" id="name" placeholder="Max Mustermann" required />
        <label for="email">E-Mail</label>
        <input type="email" id="email" placeholder="max@example.de" required />
        <label for="message">Nachricht</label>
        <textarea id="message" rows="5" placeholder="Ich interessiere mich f√ºr ..."></textarea>
        <div class="form-footer">
          <label><input type="checkbox" required /> Ich akzeptiere die <a href="#">Datenschutzerkl√§rung</a>.</label>
          <button type="submit">Jetzt absenden</button>
        </div>
      </form>
    </div>
  </section>

  <button class="chat-toggle" onclick="toggleChat()">üí¨</button>

  <div class="chatbot" id="chatbot">
    <div class="chatbot-header">
      <div>
        <strong>Wie kann ich dir helfen?</strong>
        <span>Eurocommand Chatbot</span>
      </div>
      <div class="chatbot-controls">
        <button onclick="resetChat()" title="Zur√ºcksetzen">üîÑ</button>
        <button onclick="toggleChat()" title="Schlie√üen">√ó</button>
      </div>
    </div>
    <div class="chatbot-messages" id="chatMessages">
      <div class="bot-msg">Hallo! Wie kann ich dir helfen?</div>
      <div class="chatbot-options" id="chatOptions">
        <button onclick="handleChat('software')">üõ† Softwareproblem</button>
        <button onclick="handleChat('bug')">üêû Fehler melden</button>
        <button onclick="handleChat('interest')">üì¶ Interesse</button>
        <button onclick="handleChat('other')">‚ùì Sonstiges</button>
      </div>
    </div>
    <div class="chatbot-input">
      <input type="text" id="userInput" placeholder="Nachricht eingeben" />
      <button onclick="sendMessage()">‚û§</button>
    </div>
  </div>

  <script>
    const chatbot = document.getElementById("chatbot");
    const chatMessages = document.getElementById("chatMessages");
    const chatOptions = document.getElementById("chatOptions");
    const userInput = document.getElementById("userInput");
    const darkToggle = document.getElementById("darkModeToggle");

    function toggleChat() {
      chatbot.classList.toggle("visible");
    }
    function handleChat(type) {
      const responses = {
        software: "Welches Produkt bereitet dir Probleme?",
        bug: "Bitte beschreibe den Fehler m√∂glichst genau.",
        interest: "F√ºr welches Produkt interessierst du dich?",
        other: "Bitte schildere dein Anliegen.",
      };
      appendBotMessage(responses[type]);
      chatOptions.style.display = "none";
    }
    function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;
      appendUserMessage(message);
      userInput.value = "";
      setTimeout(() => {
        appendBotMessage("Vielen Dank f√ºr deine Nachricht! Wir melden uns bald.");
      }, 600);
    }
    function appendBotMessage(text) {
      const msg = document.createElement("div");
      msg.className = "bot-msg";
      msg.textContent = text;
      chatMessages.appendChild(msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    function appendUserMessage(text) {
      const msg = document.createElement("div");
      msg.className = "user-msg";
      msg.textContent = text;
      chatMessages.appendChild(msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    function resetChat() {
      chatMessages.innerHTML = `
        <div class="bot-msg">Hallo! Wie kann ich dir helfen?</div>
        <div class="chatbot-options" id="chatOptions">
          <button onclick="handleChat('software')">üõ† Softwareproblem</button>
          <button onclick="handleChat('bug')">üêû Fehler melden</button>
          <button onclick="handleChat('interest')">üì¶ Interesse</button>
          <button onclick="handleChat('other')">‚ùì Sonstiges</button>
        </div>
      `;
    }
    // Darkmode Umschalten
    darkToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark");
    });

    // ==== Partikel Background ====
    function Particles(canvasSelector) {
      const canvas = document.querySelector(canvasSelector);
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      let particles = [];
      let w = 0, h = 0;
      function resize() {
        w = canvas.offsetWidth;
        h = canvas.offsetHeight;
        canvas.width = w * window.devicePixelRatio;
        canvas.height = h * window.devicePixelRatio;
        ctx.setTransform(window.devicePixelRatio, 0, 0, window.devicePixelRatio, 0, 0);
      }
      function randomParticle() {
        return {
          x: Math.random() * w,
          y: Math.random() * h,
          r: 1.5 + Math.random() * 3,
          dx: -0.3 + Math.random() * 0.6,
          dy: -0.15 + Math.random() * 0.3,
          alpha: 0.18 + Math.random() * 0.35
        };
      }
      function draw() {
        ctx.clearRect(0, 0, w, h);
        for (let p of particles) {
          ctx.globalAlpha = p.alpha;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
          ctx.fillStyle = '#aac8ff';
          ctx.shadowColor = '#d0e4ff';
          ctx.shadowBlur = 8;
          ctx.fill();
          ctx.shadowBlur = 0;
        }
        ctx.globalAlpha = 1.0;
      }
      function update() {
        for (let p of particles) {
          p.x += p.dx;
          p.y += p.dy;
          // Wrap-around:
          if (p.x < -10) p.x = w + 10;
          if (p.x > w + 10) p.x = -10;
          if (p.y < -10) p.y = h + 10;
          if (p.y > h + 10) p.y = -10;
        }
      }
      function loop() {
        update();
        draw();
        requestAnimationFrame(loop);
      }
      function init() {
        resize();
        particles = Array.from({length: Math.round(w * h / 4000)}, randomParticle);
        loop();
      }
      window.addEventListener('resize', () => {
        resize();
        particles = Array.from({length: Math.round(w * h / 4000)}, randomParticle);
      });
      init();
    }
    Particles('.news-section .particles-bg');
    Particles('.products-section .particles-bg');
  </script>
</body>
</html>
